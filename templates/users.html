{% extends "base.html" %}
{% block head %}
    <title>Search Users</title>
    <link rel="stylesheet" href="../static/search.css">
{% endblock %}
{% block body %}
    <div class="root-container">
        {% if users is defined and users|length>0 %}
            {% for user in users %}
                <div class="user-card-full-container">
                    <div class="user-card-image-container">
                        <img src="/{{ user.imageUrl }}" alt="profile pic" class="user-card-image">
                    </div>
                    <div class="user-card-text-box">
                        <h2>{{ user.username }}</h2>
                        <p class="user-card-email">{{ user.email }}</p>
                        <div class="number-posts-followers-block">
                            <div class="followers-block">
                                <span>{{ user.followers|length }}</span> -
                                <span>Followers</span>
                            </div>
                            <div class="posts-block">
                                <span>{{ user.posts|length }}</span> -
                                <span>Posts</span>
                            </div>
                        </div>

                    </div>
                    <div class="third-row">
                        {% if user in current_user.follows %}
                            <a href="/follow-unfollow/{{ user.id }}" class="follow-unfollow-btn unfollow-btn">
                                Unfollow
                            </a>
                        {% else %}
                            <a href="/follow-unfollow/{{ user.id }}" class="follow-unfollow-btn follow-btn">
                            Follow
                            </a>
                        {% endif %}

                    </div>
                </div>
            {% endfor %}
        {% else %}
            <h2>There are no users that match your search criteria</h2>
        {% endif %}
    </div>
    <script src="../static/search_page.js"></script>
{% endblock %}